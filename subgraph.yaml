specVersion: 0.0.2
description: Dark Forest, the world's first decentralized real-time strategy game. Built on Ethereum with zkSNARKs
repository: https://github.com/jacobrosenthal/darkforest-graph
schema:
    file: ./schema.graphql
dataSources:
    - kind: ethereum/contract
      name: Contract
      network: xdai
      source:
          address: "0xa8688cCF5E407C1C782CF0c19b3Ab2cE477Fd739"
          abi: Contract
          startBlock: 12314144
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.4
          language: wasm/assemblyscript
          entities:
              - Player
              - Planet
              - Arrival
              - Upgrade
              - Hat
              - ArrivalQueue
              - DepartureQueue
              - Meta
          abis:
              - name: Contract
                file: ./abis/Contract.json
          eventHandlers:
              - event: PlanetDelegated(uint256,address)
                handler: handlePlanetDelegated
              - event: PlanetUndelegated(uint256,address)
                handler: handlePlanetUndelegated
              - event: PlanetUpgraded(uint256)
                handler: handlePlanetUpgraded
              - event: BoughtHat(uint256)
                handler: handleBoughtHat
              - event: ArrivalQueued(uint256)
                handler: handleArrivalQueued
              - event: PlayerInitialized(address,uint256)
                handler: handlePlayerInitialized
          blockHandlers:
              - handler: handleBlock

          file: ./src/mapping.ts
